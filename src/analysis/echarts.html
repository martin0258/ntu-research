<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>TV Ratings</title>
</head>
<body>
    <!-- prepare a container for echarts -->
    <div id="main" style="height:700px"></div>
    <!-- include echarts -->
    <script src="http://echarts.baidu.com/build/dist/echarts.js"></script>
    <script type="text/javascript">
        // path config
        require.config({
            paths: {
                echarts: 'http://echarts.baidu.com/build/dist'
            }
        });
        
        // use echarts
        // replace legend, name and data for each series
        require(
            [
                'echarts',
                'echarts/chart/line'
                //'echarts/chart/bar'
            ],
            function (ec) {
                // init chart
                var myChart = ec.init(document.getElementById('main')); 

                // init data for xAxis
                var maxNumEpisodes = 25;
                var episodes = [];

                for (var i = 1; i <= maxNumEpisodes; i++) {
                    episodes.push(i);
                }
                
                var option = {
                    title: {
                        text: 'TV Ratings'
                    },
                    tooltip: {
                        show: true
                    },
                    toolbox: {
                        show: false,
                        feature: {
                            magicType: {show: true, type: ['line']}
                        }
                    },
                    xAxis : [
                        {
                            name : 'Episode',
                            type : 'category',
                            boundaryGap : false,
                            data : episodes
                        }
                    ],
                    yAxis : [
                        {
                            name : 'Ratings',
                            type : 'value'
                        }
                    ],
                    legend: {
                        data: ['大紅帽與小野狼', '小資女孩向前衝', '向前走向愛走', '金大花的華麗冒險', '真愛黑白配', '國民英雄', '犀利人妻', '螺絲小姐要出嫁']
                    },
                    series : [
                        {
                            "name":"大紅帽與小野狼",
                            "type":"line",
                            "data":[0.31,0.26,0.3,0.23,0.19,0.38,0.26,0.23,0.17,0.16,0.21,0.12,0.12,0.11,0.12,0.12],
                            markLine : {
                              data : [{type : 'average', name : '平均值'}]
                            }
                        },
                        {
                            "name":"小資女孩向前衝",
                            "type":"line",
                            "data":[2.78,3.44,3.48,3.72,4.16,4.54,4.4,4.68,5.17,4.89,5.35,5.97,5.56,5.35,5.05,5.37,4.66,5.78,5.28,5.87,5.49,6.5,6.74,6.48,7.33],
                            markLine : {
                              data : [{type : 'average', name : '平均值'}]
                            }
                        },
                        {
                            "name":"向前走向愛走",
                            "type":"line",
                            "data":[2.5,2.48,2.4,2.39,2.58,2.18,2.49,2.67,2.49,2.23,2.5,2.37,2.44,2.45,2.24,2.38,2.45,1.97,2.08,2.25,2.3,2.42],
                            markLine : {
                              data : [{type : 'average', name : '平均值'}]
                            }
                        },
                        {
                            "name":"金大花的華麗冒險",
                            "type":"line",
                            "data":[1.29,1.46,1.84,1.54,2.14,1.68,1.37,1.44,1.42,1.37,1.45,1.64,1.56,1.36,1.43,1.91,1.43,1.7,1.48,1.43,2],
                            markLine : {
                              data : [{type : 'average', name : '平均值'}]
                            }
                        },
                        {
                            "name":"真愛黑白配",
                            "type":"line",
                            "data":[1.86,2.16,2.33,2.48,2.47,2.52,2.22,2.4,2.56,2.07,2.55,2.55,1.99,1.84,2.02,2.08,1.75,1.96,1.58,1.89,2.16],
                            markLine : {
                              data : [{type : 'average', name : '平均值'}]
                            }
                        },
                        {
                            "name":"國民英雄",
                            "type":"line",
                            "data":[1.5,1.45,1.37,1.06,1.16,1.24,1.02,1.13,1.31,1.18,1.04,1.11,0.95,0.95,0.81,0.84,0.72,1.01,1.14],
                            markLine : {
                              data : [{type : 'average', name : '平均值'}]
                            }
                        },
                        {
                            "name":"犀利人妻",
                            "type":"line",
                            "data":[1.07,1.02,0.91,0.96,0.96,1.11,1.33,1.46,1.44,1.47,1.54,1.81,1.93,2.43,3.12,4.57,6.31,7.11,6.87,7.28,6.62,6.43,9.45],
                            markLine : {
                              data : [{type : 'average', name : '平均值'}]
                            }
                        },
                        {
                            "name":"螺絲小姐要出嫁",
                            "type":"line",
                            "data":[2.37,2.76,3.37,3.22,4.35,3.83,3.96,3.73,3.7,3.35,3.82,3.72,4.19,4.04,3.95,3.5,3.13,3.35,3.28,2.9,2.61,2.61,4.18],
                            markLine : {
                              data : [{type : 'average', name : '平均值'}]
                            }
                        }
                    ]
                };
        
                // load option
                myChart.setOption(option); 
            }
        );
    </script>
</body>
